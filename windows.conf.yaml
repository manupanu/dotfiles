# install.conf.yaml for dotbot

- defaults:
    link:
      relink: true # Relink if link exists but points elsewhere
      create: true # Create parent directories if they don't exist

- clean: ['~']

# Link defaults first
- link:
    # Link powershell profile
    ~/Documents/PowerShell/Microsoft.PowerShell_profile.ps1: powershell/Microsoft.PowerShell_profile.ps1

# Check for specific hostname and link its config if it matches
- ifhostname:
    hostname: CH-5CD138M619
    met:
      - link:
          ~/.gitconfig: git/.gitconfig-windows-sbc
    unmet:
      - link:
          ~/.gitconfig: git/.gitconfig-windows

- shell:
    # Copy starship configuration instead of linking
    # Using cmd.exe syntax for Windows compatibility
    - command: if not exist "%USERPROFILE%\.config" mkdir "%USERPROFILE%\.config" & copy "starship\starship.toml" "%USERPROFILE%\.config\" /Y
      description: Copy starship configuration to ~/.config/starship.toml
  
# Scoop configuration
- scoop:
    buckets:
      - main
      - extras
      - name: nerd-fonts
        repo: https://github.com/matthewjberger/scoop-nerd-fonts
      # Add other buckets here if needed
    apps:
      # Add other apps here if needed
      - zed
      # Nerd Fonts - specify the ones you want, e.g.:
      # - FiraCode-NF
      - Meslo-NF
      # - Hack-NF
      - JetBrainsMono-NF
